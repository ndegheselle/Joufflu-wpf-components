<Popup
    x:Class="Joufflu.Data.Schema.Components.EditIdentifierPopup"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:adonisUi="clr-namespace:AdonisUI;assembly=AdonisUI"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:fonts="clr-namespace:Joufflu.Shared.Resources.Fonts;assembly=Joufflu.Shared"
    xmlns:local="clr-namespace:Joufflu.Data.Schema.Components"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    x:Name="ContainerElement"
    AllowsTransparency="True"
    StaysOpen="False"
    mc:Ignorable="d">
    <Border
        Padding="2"
        Background="{StaticResource {x:Static adonisUi:Brushes.Layer0BackgroundBrush}}"
        BorderBrush="{StaticResource {x:Static adonisUi:Brushes.Layer0BorderBrush}}"
        BorderThickness="1"
        CornerRadius="2"
        DataContext="{Binding ElementName=ContainerElement}">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="200" />
            </Grid.ColumnDefinitions>

            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition Height="auto" />
            </Grid.RowDefinitions>

            <TextBox Text="{Binding Identifier}" />
            <StackPanel
                Margin="0,0,1,0"
                HorizontalAlignment="Right"
                Orientation="Horizontal">
                <Button
                    Click="Button_Validate"
                    Style="{StaticResource IconButtonSmall}"
                    ToolTip="Validate">
                    <fonts:Icon Text="{x:Static fonts:IconFont.Check}" />
                </Button>
                <Button
                    Click="Button_Cancel"
                    Style="{StaticResource IconButtonSmall}"
                    ToolTip="Cancel">
                    <fonts:Icon Text="{x:Static fonts:IconFont.X}" />
                </Button>
            </StackPanel>

            <StackPanel Grid.Row="1" Orientation="Horizontal">
                <StackPanel.Style>
                    <Style TargetType="StackPanel">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding MessageError}" Value="">
                                <Setter Property="Visibility" Value="Collapsed" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </StackPanel.Style>
                <fonts:Icon Foreground="{StaticResource {x:Static adonisUi:Brushes.AlertBrush}}" Text="{x:Static fonts:IconFont.Warning}" />
                <TextBlock
                    Margin="2,0,0,0"
                    Foreground="{StaticResource {x:Static adonisUi:Brushes.AlertBrush}}"
                    Text="{Binding MessageError}" />
            </StackPanel>
        </Grid>
    </Border>
</Popup>